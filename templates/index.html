{% extends 'base.html' %}

{% block extra_css %}
<link rel="stylesheet" href="{% asset 'index.css' %}">
{% endblock extra_css %}

{% block extra_js %}
<script>
    // Register service worker
    if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
            navigator.serviceWorker.register("/sw.js").then((reg) => {
                console.log("Service Worker registered.");
            });
        });
    }
</script>
{% endblock extra_js %}

{% block content %}
<div class="container">
    <div class="row hero">
        <div class="intro">
            <h3>{{ home.title }}</h3>
            <h1>{{ home.name|title }}</h1>
            <h2>{{ home.subtitle }}</h2>
            {{ home.content|safe }}
        </div>
        <div class="image">
            <img src="https://placehold.it/500x500" alt="{{ author }}">
        </div>
    </div>
    <div class="row">
        {% for article in articles %}
        <div class="post-card">
            <div class="post-date">{{ article.published|datetimeformat('%B %d, %Y') }}</div>
            <a href="{% url 'article', article %}">
                <span class="post-title">
                    {{ article.title }}
                </span>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}